<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>

    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>


    <title>主页</title>
    <meta name="keywords" content="H+后台主题,后台bootstrap框架,会员中心主题,后台HTML,响应式后台"/>
    <meta name="description" content="H+，她采用了主流的左右两栏式布局，使用了Html5+CSS3等现代技术"/>

    <div th:replace="common::JS"></div>
    <div th:replace="common::CSS"></div>
    <div th:replace="common::editor"></div>
    <div th:replace="common::webuploader"></div>
</head>

<body class="gray-bg">
<div class="row wrapper border-bottom white-bg page-heading">
    <div class="col-sm-4">
        <h2>标题</h2>
        <ol class="breadcrumb">
            <li>
                <a href="index.html">主页</a>
            </li>
            <li>
                <strong>包屑导航</strong>
            </li>
        </ol>
    </div>
    <div class="col-sm-8">
        <div class="title-action">
            <a href="empty_page.html" class="btn btn-primary">活动区域</a>
        </div>
    </div>
</div>

<div class="wrapper wrapper-content">
    <div class="ibox-title">
        <h5>分类编辑</h5>
    </div>
    <div class="ibox-content">
    <div class="form-horizontal">
        <div class="form-group">
            <label class="col-sm-2 control-label require">新闻标题</label>
            <div class="col-sm-8">
                <input type="text" name="title" id="title" value="" class="form-control"/>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-2 control-label require">新闻分类</label>
            <div class="col-sm-8">
                <select class=" form-control" id="categoryId" name="categoryId">
                    <option>1111</option>
                    <option>2222</option>
                </select>
            </div>
        </div>

        <div class="form-group">
            <label class="col-sm-2 control-label require">略缩图</label>
            <div class="col-sm-8">
                <div id="uploader" class="wu-example">
                    <div class="queueList">
                        <div id="dndArea" class="placeholder">
                            <div id="filePicker"></div>
                            <p>或将照片拖到这里，单次最多可选300张</p>
                        </div>
                    </div>
                    <div class="statusBar" style="display:none;">
                        <div class="progress">
                            <span class="text">0%</span>
                            <span class="percentage"></span>
                        </div>
                        <div class="info"></div>
                        <div class="btns">
                            <div id="filePicker2"></div>
                            <div class="uploadBtn">开始上传</div>
                        </div>
                    </div>
                </div>
            </div>

        </div>

        <div class="ibox-title" >
            <h5>内容</h5>
        </div>
        <form name="editor" method="post">
            <textarea  id="editor_id" cols="100" rows="8" style="width:100%;height:100%;visibility:hidden;"></textarea>
            <br />
            <!--  <input type="submit" name="button" value="提交内容" /> (提交快捷键: Ctrl + Enter) -->

            <div class="ibox-content btn-center" style="text-align: center">
                <a href="javascript:void(0)" class="ladda-button btn btn-primary" onclick="save()">
                    <i class="fa fa-floppy-o" aria-hidden="true"></i> 保存
                </a>

                <a href="javascript:void(0)" class="btn btn-default"   onclick="DM.back()">
                    <i class="fa fa-times" aria-hidden="true"></i> 返回
                </a>
            </div>
        </form>
    </div>
    </div>
</div>

</body>
<script>
    $(function(){
        window.editor = KindEditor.create('#editor_id', {
            height:'300px',
            style:'margin: 0 auto',
            uploadJson :  '/upload/newsFileUpload',
            fileManagerJson :  '/dm/newsinfo',
            allowFileManager : false,
            afterCreate: function () {
                //要取值设置这里 这个函数就是同步KindEditor的值到textarea文本框
                this.sync();
            },
            afterBlur: function () {
                //同时设置这里
                this.sync();
            }});
    });
</script>
</html>